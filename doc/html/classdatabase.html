<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>php-lwaf: database Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">php-lwaf
   </div>
   <div id="projectbrief">PHP Lightweight Application Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">database Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4f3df6ebda8ee3e402850b65e063b483"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdatabase.html#a4f3df6ebda8ee3e402850b65e063b483">__construct</a> ($dbserver, $dbuser, $dbpass, $dbname)</td></tr>
<tr class="separator:a4f3df6ebda8ee3e402850b65e063b483"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a933f2cde8dc7f87875e257d0a4902e99"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdatabase.html#a933f2cde8dc7f87875e257d0a4902e99">insert_id</a> ()</td></tr>
<tr class="separator:a933f2cde8dc7f87875e257d0a4902e99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65a26efae8976a7434a8b8d457ecb25e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdatabase.html#a65a26efae8976a7434a8b8d457ecb25e">esc</a> ($data)</td></tr>
<tr class="separator:a65a26efae8976a7434a8b8d457ecb25e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8117354f1fa0b2873f0ad2792dc21389"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdatabase.html#a8117354f1fa0b2873f0ad2792dc21389">last_query</a> ()</td></tr>
<tr class="separator:a8117354f1fa0b2873f0ad2792dc21389"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a118daaa0832f02ae2230c9f36b03a6c8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdatabase.html#a118daaa0832f02ae2230c9f36b03a6c8">query</a> ($query, $params=array(), $param_types=&quot;s&quot;, $limit=0, $offset=0)</td></tr>
<tr class="separator:a118daaa0832f02ae2230c9f36b03a6c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5117abf62850988f4278ccba38cfaab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdatabase.html#ac5117abf62850988f4278ccba38cfaab">insert</a> ($<a class="el" href="classdatabase.html#a118daaa0832f02ae2230c9f36b03a6c8">query</a>, $params=array(), $param_types=&quot;s&quot;)</td></tr>
<tr class="separator:ac5117abf62850988f4278ccba38cfaab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a678d9ea859ec7b580635a8782cc309a2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdatabase.html#a678d9ea859ec7b580635a8782cc309a2">get_row</a> ($<a class="el" href="classdatabase.html#a118daaa0832f02ae2230c9f36b03a6c8">query</a>, $params=array(), $param_types=&quot;s&quot;)</td></tr>
<tr class="separator:a678d9ea859ec7b580635a8782cc309a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ddea8d677570bcbe5d3bbcbedf96150"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdatabase.html#a3ddea8d677570bcbe5d3bbcbedf96150">load_objects</a> ($table, $how=false, $what=false, $sorting=false)</td></tr>
<tr class="separator:a3ddea8d677570bcbe5d3bbcbedf96150"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad00fdebcb980743b47e5f70cc42e09a8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdatabase.html#ad00fdebcb980743b47e5f70cc42e09a8">load_query</a> ($table, $<a class="el" href="classdatabase.html#a118daaa0832f02ae2230c9f36b03a6c8">query</a>, $params=array(), $param_types=&quot;s&quot;, $limit=0, $offset=0)</td></tr>
<tr class="separator:ad00fdebcb980743b47e5f70cc42e09a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20c2532120874d99aa5d8dd9eb95b816"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdatabase.html#a20c2532120874d99aa5d8dd9eb95b816">load_object</a> ($table, $how, $what=false)</td></tr>
<tr class="separator:a20c2532120874d99aa5d8dd9eb95b816"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2080dbfc8fb535b924ac0644f7f57751"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdatabase.html#a2080dbfc8fb535b924ac0644f7f57751">get_table_fields</a> ($table)</td></tr>
<tr class="separator:a2080dbfc8fb535b924ac0644f7f57751"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80593ccdc0339775ddd5d82c37ca4f6b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdatabase.html#a80593ccdc0339775ddd5d82c37ca4f6b">now</a> ()</td></tr>
<tr class="separator:a80593ccdc0339775ddd5d82c37ca4f6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ba4fda2ff15a5448b8d0b786d7fcdba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdatabase.html#a5ba4fda2ff15a5448b8d0b786d7fcdba">today</a> ()</td></tr>
<tr class="separator:a5ba4fda2ff15a5448b8d0b786d7fcdba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a5c5902cee5ac33f9e1e4a25f947e35a8"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdatabase.html#a5c5902cee5ac33f9e1e4a25f947e35a8">sql</a> ()</td></tr>
<tr class="separator:a5c5902cee5ac33f9e1e4a25f947e35a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:abc686c23af6ae116b72bc6adb4482a1f"><td class="memItemLeft" align="right" valign="top"><a id="abc686c23af6ae116b72bc6adb4482a1f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$_db</b> = null</td></tr>
<tr class="separator:abc686c23af6ae116b72bc6adb4482a1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad657827ee14b68294f60ccdd96745a25"><td class="memItemLeft" align="right" valign="top"><a id="ad657827ee14b68294f60ccdd96745a25"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$_debug_errors</b> = true</td></tr>
<tr class="separator:ad657827ee14b68294f60ccdd96745a25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac301a8bee9b374096bd8a68de7919832"><td class="memItemLeft" align="right" valign="top"><a id="ac301a8bee9b374096bd8a68de7919832"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$_last_query</b> = &quot;&quot;</td></tr>
<tr class="separator:ac301a8bee9b374096bd8a68de7919832"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9261603eef3af05fdbfe3b503fc96681"><td class="memItemLeft" align="right" valign="top"><a id="a9261603eef3af05fdbfe3b503fc96681"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$_table_field_cache</b> = []</td></tr>
<tr class="separator:a9261603eef3af05fdbfe3b503fc96681"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p class="">Class database</p>
<p class="">This class sets up a singleton and provides functions for all database access for the application </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a4f3df6ebda8ee3e402850b65e063b483"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f3df6ebda8ee3e402850b65e063b483">&#9670;&nbsp;</a></span>__construct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__construct </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$dbserver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$dbuser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$dbpass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$dbname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">database constructor.</p>
<p class="">This initializes and connects to the database. If there is a problem, it will show the error page with a description of the problem.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$dbserver</td><td></td></tr>
    <tr><td class="paramname">$dbuser</td><td></td></tr>
    <tr><td class="paramname">$dbpass</td><td></td></tr>
    <tr><td class="paramname">$dbname</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a65a26efae8976a7434a8b8d457ecb25e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65a26efae8976a7434a8b8d457ecb25e">&#9670;&nbsp;</a></span>esc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esc </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Runs real_escape_string() on the data</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$data</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string </dd></dl>

</div>
</div>
<a id="a678d9ea859ec7b580635a8782cc309a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a678d9ea859ec7b580635a8782cc309a2">&#9670;&nbsp;</a></span>get_row()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_row </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$params</em> = <code>array()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$param_types</em> = <code>&quot;s&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Executes a query and returns only the first row of data</p>
<p class="">This is useful when you expect the query to only return one row of data. See <a class="el" href="classdatabase.html#a118daaa0832f02ae2230c9f36b03a6c8">query()</a> for documentation on the params.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"></td><td class="paramname">$query</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$param_types</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool|mixed </dd></dl>

</div>
</div>
<a id="a2080dbfc8fb535b924ac0644f7f57751"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2080dbfc8fb535b924ac0644f7f57751">&#9670;&nbsp;</a></span>get_table_fields()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_table_fields </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Caches the table fields when multiple objects are loaded from the database</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$table</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mixed </dd></dl>

</div>
</div>
<a id="ac5117abf62850988f4278ccba38cfaab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5117abf62850988f4278ccba38cfaab">&#9670;&nbsp;</a></span>insert()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">insert </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$params</em> = <code>array()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$param_types</em> = <code>&quot;s&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Executes a query but only returns true or false based on success or failure</p>
<p class="">See <a class="el" href="classdatabase.html#a118daaa0832f02ae2230c9f36b03a6c8">query()</a> documentation for details on the params. The only difference between this function and <a class="el" href="classdatabase.html#a118daaa0832f02ae2230c9f36b03a6c8">query()</a> is that this doesn't take limit and offset since it's not designed to return data, and when it completes it will either return true or false based on whether the query caused an error.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$query</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$param_types</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>

</div>
</div>
<a id="a933f2cde8dc7f87875e257d0a4902e99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a933f2cde8dc7f87875e257d0a4902e99">&#9670;&nbsp;</a></span>insert_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">insert_id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Return the last inserted id</p>
<p class="">Returns false if there isn't a last inserted id</p>
<dl class="section return"><dt>Returns</dt><dd>mixed </dd></dl>

</div>
</div>
<a id="a8117354f1fa0b2873f0ad2792dc21389"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8117354f1fa0b2873f0ad2792dc21389">&#9670;&nbsp;</a></span>last_query()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">last_query </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Returns the last query that was executed</p>
<dl class="section return"><dt>Returns</dt><dd>string </dd></dl>

</div>
</div>
<a id="a20c2532120874d99aa5d8dd9eb95b816"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20c2532120874d99aa5d8dd9eb95b816">&#9670;&nbsp;</a></span>load_object()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">load_object </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$how</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$what</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Loads a single object from the database.</p>
<p class="">If more than one result is found, only the first one is returned Returns false if no matching objects are found.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$table</td><td></td></tr>
    <tr><td class="paramname">$how</td><td></td></tr>
    <tr><td class="paramname">$what</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>object|false </dd></dl>

</div>
</div>
<a id="a3ddea8d677570bcbe5d3bbcbedf96150"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ddea8d677570bcbe5d3bbcbedf96150">&#9670;&nbsp;</a></span>load_objects()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">load_objects </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$how</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$what</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$sorting</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Loads in an array of objects from the database.</p>
<p class="">This will load all the objects from the database that match the criteria given. If $how and $what are left out, all objects will be returned If $what is left out, it will load objects with the id of $how</p>
<p class="">Example: <a class="el" href="classdatabase.html#a5c5902cee5ac33f9e1e4a25f947e35a8">database::sql()</a>-&gt;load_objects("user") - loads all the users <a class="el" href="classdatabase.html#a5c5902cee5ac33f9e1e4a25f947e35a8">database::sql()</a>-&gt;load_objects("user", "first_name", "eric") - loads all the users with the first name 'eric' <a class="el" href="classdatabase.html#a5c5902cee5ac33f9e1e4a25f947e35a8">database::sql()</a>-&gt;load_objects("user", 10) - loads user with 'user_id' of 10 <a class="el" href="classdatabase.html#a5c5902cee5ac33f9e1e4a25f947e35a8">database::sql()</a>-&gt;load_objects("user", "status", "active", "last_name asc") - loads all the users with the status of active, then sorts by last name ascending</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$table</td><td></td></tr>
    <tr><td class="paramname">$how</td><td></td></tr>
    <tr><td class="paramname">$what</td><td></td></tr>
    <tr><td class="paramname">$sorting</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array </dd></dl>

</div>
</div>
<a id="ad00fdebcb980743b47e5f70cc42e09a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad00fdebcb980743b47e5f70cc42e09a8">&#9670;&nbsp;</a></span>load_query()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">load_query </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$params</em> = <code>array()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$param_types</em> = <code>&quot;s&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$limit</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$offset</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Loads an array of objects from the database based on the given query</p>
<p class="">See <a class="el" href="classdatabase.html#a3ddea8d677570bcbe5d3bbcbedf96150">load_objects()</a> for more details</p>
<p class="">Example: $hooks = <a class="el" href="classdatabase.html#a5c5902cee5ac33f9e1e4a25f947e35a8">database::sql()</a>-&gt;load_query("event_trigger", "select * from event_trigger " . "where event=? and event_table=? and status=?", [ $event, $table, "active" ], "sss");</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"></td><td class="paramname">$table</td><td></td></tr>
    <tr><td class="paramtype"></td><td class="paramname">$query</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$param_types</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limit</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$offset</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array </dd></dl>

</div>
</div>
<a id="a80593ccdc0339775ddd5d82c37ca4f6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80593ccdc0339775ddd5d82c37ca4f6b">&#9670;&nbsp;</a></span>now()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">now </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Return MySQL formatted datetime for the current date and time</p>
<dl class="section return"><dt>Returns</dt><dd>string </dd></dl>

</div>
</div>
<a id="a118daaa0832f02ae2230c9f36b03a6c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a118daaa0832f02ae2230c9f36b03a6c8">&#9670;&nbsp;</a></span>query()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">query </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$params</em> = <code>array()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$param_types</em> = <code>&quot;s&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$limit</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$offset</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Executes a query</p>
<p class="">This prepares the query, binds the parameters, and then executes the query. Note that the offset and limit parameters are used after the data is returned from the database, so if you are executing large queries, it is better to set up the limits and offsets in the query itself.</p>
<p class="">The $param_types is a string that is used to pass the types to bind_param. It is a string with as many characters as there are parameters passed to bind_param. See <a class="el" href="">for more information on the param types that are used. Examples: database::sql()-&gt;query("select * from user where email=?", [ $_POST['email'], "s"); database::sql()-&gt;query("select * from accounting where user_id=? and month=?", [ $user_id, $_POST['month'], "ii"); database::sql()-&gt;query("update user set photo_data=?", [ $file_data ], "b"); database::sql()-&gt;query("select * from users", [], "", 25);  string $query  array $params  string $param_types  int $limit  int $offset  array </a></p>

</div>
</div>
<a id="a5c5902cee5ac33f9e1e4a25f947e35a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c5902cee5ac33f9e1e4a25f947e35a8">&#9670;&nbsp;</a></span>sql()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static sql </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p class="">The main static accessor function for the database connection</p>
<p class="">This is the primary entry point for calling the database singleton. Examples: <a class="el" href="classdatabase.html#a5c5902cee5ac33f9e1e4a25f947e35a8">database::sql()</a>-&gt;query("select * from table"); <a class="el" href="classdatabase.html#a5c5902cee5ac33f9e1e4a25f947e35a8">database::sql()</a>-&gt;esc($input_from_user); <a class="el" href="classdatabase.html#a5c5902cee5ac33f9e1e4a25f947e35a8">database::sql()</a>-&gt;<a class="el" href="classdatabase.html#a8117354f1fa0b2873f0ad2792dc21389">last_query()</a>;</p>
<dl class="section return"><dt>Returns</dt><dd>mixed </dd></dl>

</div>
</div>
<a id="a5ba4fda2ff15a5448b8d0b786d7fcdba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ba4fda2ff15a5448b8d0b786d7fcdba">&#9670;&nbsp;</a></span>today()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">today </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Return MySQL formatted date for the current day</p>
<dl class="section return"><dt>Returns</dt><dd>string </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>app/lib/database.php</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Apr 20 2018 16:49:12 for php-lwaf by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
